<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="${'innerPage'.equals(param['mode'])? '/WEB-INF/templates/innervs.xhtml' :
                ('simplePage'.equals(param['mode']) ? '/WEB-INF/templates/simplevs.xhtml':'/WEB-INF/templates/toolbarvs.xhtml')}">
    <ui:define name="head">
        <title>ShopExampleController</title>
        <script src="${resourceURL}/webcomponentsjs/webcomponents-lite.min.js" type="text/javascript"></script>
        <link href="${resourceURL}/iron-ajax/iron-ajax.html" rel="import"/>
    </ui:define>
    <ui:define name="content">
        <template is="auto-binding">
            <div>
                <div>
                    <h3>
                        ${msg.transactionValueLbl}:
                        ${transactionRequest.getAmount()} ${transactionRequest.getCurrencyCode()} - ${transactionRequest.getTagName()}
                    </h3>
                </div>
                ${msg.paymentOptionsLbl}: ${transactionRequest.getPaymentOptions}
                <img src="http://localhost:8080/CurrencyServer/QR?cht=qr&amp;chs=250x250&amp;chl=${paymentInfoServiceURL}" alt="read it with your mobile" height="250" width="250"/>
                <iron-ajax auto="" last-response="{{data}}" on-iron-response="{{ajaxHandler}}" handleAs="json"
                           url="${restURL}/shopExample/listenTransactionChanges/${shopSessionID}"></iron-ajax>
                <h3>{{data.message}}</h3>
            </div>
        </template>
        <script>
            addEventListener('template-bound', function(e) {
                console.log('template-bound');
                e.target.ajaxHandler = function(event) {
                    console.log(event.target.response);
                }});
        </script>
    </ui:define>
</ui:composition>
