<polymer-element name="vs-i18n" attributes="messages">
<template>
</template>
<script>
    Polymer('vs-i18n', {
        publish: {
            messages: {value: {}}
        },
        ready:function() {
            this.messages = {
                es: {
                    selectedTagsLbl:"etiquetas seleccionadas",
                    searchResultLbl:"resultado de la búsqueda",
                    tagLbl:"etiqueta",
                    tagSearchLbl:"buscar",
                    acceptLbl:"aceptar",
                    closeLbl:"cerrar",
                    caption:"búsqueda avanzada",
                    fromDate:"fecha desde (dd/mm/aa)",
                    toDate:"fecha hasta (dd/mm/aa)",
                    searchInputMessage:"cadena de búsqueda",
                    dateLbl:"fecha",
                    hourLbl: "hora (hh:mm)",
                    invalidSearchLbl:"introduzca una consulta válida",
                    invalidDateLbl:"no es una fecha válida!",
                    invalidHourLbl:"no es una hora válida!",
                    deleteLbl:"borrar"
                },
                en: {
                    selectedTagsLbl:"selected tags",
                    searchResultLbl:"search result",
                    tagLbl:"tag",
                    tagSearchLbl:"search",
                    acceptLbl:"accept",
                    closeLbl:"close",
                    caption:"avanced search",
                    fromDate:"from date (dd/mm/aa)",
                    toDate:"to date (dd/mm/aa)",
                    searchInputMessage:"enter search text",
                    dateLbl:"date",
                    hourLbl: "hour (hh:mm)",
                    invalidSearchLbl:"enter a valid search",
                    invalidDateLbl:"invalid date!",
                    invalidHourLbl:"invalid hour!",
                    deleteLbl:"delete"
                }
            }
            console.log(this.tagName + " - ready")
        },
        getMessages:function() {
            var resultMessages
            var results = new RegExp("[\\?&]locale=([^&#]*)").exec(location.search);
            var userLocale = ((results == null) ? "" : decodeURIComponent(results[1].replace(/\+/g, " "))) || navigator.language
            if(this.messages[userLocale]) resultMessages = this.messages[userLocale]
            else resultMessages = this.messages['es']
            console.log(this.tagName + " loaded locales for: " + userLocale)
            return resultMessages
        }
    });
</script>
</polymer-element>