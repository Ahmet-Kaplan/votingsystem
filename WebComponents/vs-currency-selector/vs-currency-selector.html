<dom-module name="vs-currency-selector">
    <template>
        <select id="currencySelect" on-change="selectAction" class="form-control">
            <template is="dom-repeat" items="{{currencyCodes}}">
                <option value="{{item.code}}">{{item.name}}</option>
            </template>
        </select>
    </template>
    <script>
        Polymer({
            is:'vs-currency-selector',
            properties: {
                currencyCodes:{type:Object, value:[
                    {name: 'Euro', code: 'EUR'},
                    {name: 'Dollar', code: 'USD'},
                    {name: 'Yuan', code: 'CNY'},
                    {name: 'Yen', code: 'JPY'}]},
                fontSize:{type:String, value:'1.3em'},
                width:{type:String, value:'100px'},
                height:{type:String, value:'30px'}
            },
            ready: function() {
                console.log(this.tagName + " - ready")
                this.$.currencySelect.style.width = this.width
                this.$.currencySelect.style.fontSize = this.fontSize
                this.$.currencySelect.style.height = this.height
            },
            getSelected:function() {
                this.$.currencySelect.value
            },
            selectAction: function(e, details) {
                var selectedCurrency
                this.currencyCodes.forEach(function(currency) {
                    if(currency.code === this.$.currencySelect.value) selectedCurrency = currency
                }.bind(this))
                this.fire("selected", selectedCurrency)
                this.fire('iron-signal', {name: "vs-currency-selector-selected", data: selectedCurrency});
            }
        });
    </script>
</dom-module>
