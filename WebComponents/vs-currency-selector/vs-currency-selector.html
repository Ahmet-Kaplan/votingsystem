<link href="../polymer/polymer.html" rel="import">
<link href="../paper-dropdown-menu/paper-dropdown-menu.html" rel="import">
<link href="../paper-dropdown/paper-dropdown.html" rel="import">
<link href="../paper-item/paper-item.html" rel="import">
<link href="../paper-menu/paper-menu.html" rel="import">


<dom-module name="vs-currency-selector" on-iron-select="selectAction">
    <template>
        <style>
            body /deep/ paper-dropdown-menu.narrow { max-width: 200px; width: 300px; }
            .dropdown.colored::shadow #ripple,
            .dropdown.colored::shadow #background {
                border: 1px solid #6c0404;
            }
            .colored { color: #6c0404; }
        </style>
        <paper-dropdown-menu id="dropDownMenu" attr-for-selected="id" halign="right" style="width: 100px;"
                             on-iron-select="configGroup">
            <paper-dropdown class="dropdown colored" transition="">
                <paper-menu attr-for-selected="id" id="currencySelectorCoreMenu" selected="EUR">
                    <template repeat="{{currencyCodes}}">
                        <paper-item id="{{code}}">{{name}}</paper-item>
                    </template>
                </paper-menu>
            </paper-dropdown>
        </paper-dropdown-menu>
    </template>
    <script>
        Polymer({
            is:'vs-currency-selector',
            currencyCodes: [
                {name: 'Euro', code: 'EUR'},
                {name: 'Dollar', code: 'USD'},
                {name: 'Yuan', code: 'CNY'},
                {name: 'Yen', code: 'JPY'}],
            ready: function() { console.log(this.tagName + " - ready")},
            getSelected:function() {
                return this.$.currencySelectorCoreMenu.selected
            },
            selectAction: function(e, details) {
                if(details.isSelected) {
                    this.fire("selected", details.item.id)
                    this.fire('iron-signal', {name: "vs-currency-selector-selected", data: details.item.id});
                }
            }
        });
    </script>
</dom-module>
