# TimeStamp server application

### Configure static resources handler
To serve the backups generated by the application the server must have configured a file handler and a location with undertow subsystem, 
for that in standalone.xml:

    <server name="default-server">
        <http-listener name="default" socket-binding="http"/>
        <host name="default-host" alias="localhost">
            <location name="/" handler="welcome-content"/>
            <location name="/TimeStampServer/static" handler="timeStampServerStatic"/>
        </host>
    </server>
    <handlers>
        <file name="welcome-content" path="${jboss.home.dir}/welcome-content" directory-listing="true"/>
        <file name="timeStampServerStatic" path="/var/local/voting_system/timestamp_server" directory-listing="true"/>
    </handlers>

The value of the variables 'vs.staticResourcesURL' and 'vs.serverDirPath' must be set according to the values configured
in the file standalone.xml.

#### Build and Deploy

    mvn clean package


#### Build and Deploy on Wildfly

1. Make sure you [start the Wildfly Server]
2. Add a datasource with the name 'java:jboss/datasources/TimeStampServer'
3. Use this command to build and deploy the archive:

            mvn clean package wildfly:deploy
