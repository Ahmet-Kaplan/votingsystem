<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <title><ui:insert name="title" /></title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="shortcut icon" type="image/png" href="#{request.contextPath}/resources/images/icon_16/fa-bolt.png" />
    <h:outputScript name="js/utilsVS.js" />
    <h:outputStylesheet name="css/votingSystem.css" />
    <link href="${resourceURL}/font-awesome/css/font-awesome.min.css" media="all" rel="stylesheet" />
    <script src="${resourceURL}/webcomponentsjs/webcomponents-lite.min.js" type="text/javascript"></script>
    <link href="${resourceURL}/polymer/polymer.html" rel="import"/>
    <link href="${resourceURL}/iron-ajax/iron-ajax.html" rel="import"/>
    <link href="${resourceURL}/iron-signals/iron-signals.html" rel="import"/>
    <link href="${resourceURL}/iron-icons/iron-icons.html" rel="import"/>
    <script src="${contextURL}/jsf/resources/js/utils_js.jsp" type="text/javascript"></script>
    <link href="${resourceURL}/vs-socket/vs-socket.html" rel="import"/>
    <link href="${elementURL}/element/alert-dialog.vsp" rel="import"/>
    <ui:insert name="head" />
    <script>
        document.addEventListener('WebComponentsReady', function() {
            console.log("simplevs - WebComponentsReady")
            document.querySelector('#pageLayoutDiv').style.display = 'block';
            document.querySelector('#loadingDiv').style.display = 'none';
            document.querySelector('#ironSignals').addEventListener('iron-signal-vs-innerpage', function(e) {
                if(e.detail.title) document.querySelector('#appTitle').innerHTML = e.detail.title
                document.dispatchEvent( new Event('innerPageSignal'));
            });
            updateMenuLinks()
        });
    </script>
</h:head>
<h:body>
    <div id="pageLayoutDiv" style="display:none;">
        <ui:insert name="content"/>
    </div>
    <div id="loadingDiv" style="width: 30px;margin: 100px auto 0px auto">
        <i class="fa fa-cog fa-spin" style="font-size:3em;color:#ba0011;"></i>
    </div>

    <alert-dialog id="_votingsystemMessageDialog"></alert-dialog>
    <iron-signals id="ironSignals"></iron-signals>
</h:body>
</html>
